(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},4358:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>m,tree:()=>l}),r(4558),r(8295),r(5866);var a=r(3191),s=r(8716),i=r(7922),n=r.n(i),o=r(5231),c={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);r.d(t,c);let l=["",{children:["myitems",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4558)),"/home/greg/Documents/WebTech/frontend/src/app/myitems/page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,8295)),"/home/greg/Documents/WebTech/frontend/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/home/greg/Documents/WebTech/frontend/src/app/myitems/page.js"],p="/myitems/page",u={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/myitems/page",pathname:"/myitems",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},8568:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},9076:()=>{},3759:(e,t,r)=>{Promise.resolve().then(r.bind(r,829))},238:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var a=r(326),s=r(5419),i=r.n(s);function n(e){let t=new Date(e.created).toLocaleString("en-GB",{year:"2-digit",month:"2-digit",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1});return(0,a.jsxs)("div",{className:i().cardItem,onClick:()=>e.clickHandler(e),children:[(0,a.jsxs)("p",{children:["Title: ",e.title]}),(0,a.jsxs)("p",{children:["Description: ",e.desc]}),(0,a.jsxs)("p",{children:["Price: ",e.price,"â‚¬"]}),(0,a.jsxs)("p",{children:["Owner: ",e.owner]}),(0,a.jsxs)("p",{children:["Status: ",e.status]}),(0,a.jsxs)("p",{children:["Created: ",t]})]})}},829:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var a=r(326),s=r(7577),i=r(4745),n=r(5419),o=r.n(n),c=r(238);function l(){let[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(""),l=async()=>{t([]);try{let e=await fetch(`${i.S}/auth-item/`,{headers:{Authorization:"Bearer null"},method:"GET"}),r=await e.json(),s=r.map((e,t)=>a.jsx(c.Z,{title:e.title,desc:e.desc,price:e.price,owner:e.owner,status:e.status,created:e.created,clickHandler:()=>p(e)},t));return t(s),r}catch(e){n("Not logged in")}},d=async e=>{e.preventDefault();let t=e.target.title.value,r=e.target.price.value,a=e.target.desc.value;try{let e=await fetch("/api/additem",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer null"},body:JSON.stringify({title:t,price:r,desc:a,status:"On sale"})}),s=await e.json();return l(),s}catch(e){n(e)}},p=async e=>{if("On sale"==e.status){n(" ");let t=prompt("Edit price:",e.price);if(null!==t&&""!==t)try{let r=await fetch(`/api/auth-item/${e.id}/`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer null"},body:JSON.stringify({price:t,title:e.title,desc:e.desc,owner:e.owner,status:e.status})});await r.json(),l()}catch(e){return e}}else n("Cannot change price of purchased item")};return(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:o().cardList,children:e}),a.jsx("div",{className:o().error,children:r}),a.jsx("div",{children:(0,a.jsxs)("form",{onSubmit:d,className:o().form,children:[a.jsx("h3",{children:"Create new item"}),(0,a.jsxs)("label",{children:["Title:",a.jsx("input",{type:"text",name:"title",required:!0})]}),(0,a.jsxs)("label",{children:["Price:",a.jsx("input",{type:"text",name:"price",required:!0})]}),(0,a.jsxs)("label",{children:["Description:",a.jsx("textarea",{name:"desc",required:!0})]}),a.jsx("button",{type:"submit",children:"Add item"}),a.jsx("br",{})]})})]})}var d=r(434);function p(){return(0,a.jsxs)("main",{className:o().main,children:[a.jsx("h1",{children:"My Items"}),a.jsx("p",{children:"Click on any item to edit its price"}),a.jsx(l,{}),a.jsx("br",{}),a.jsx(d.default,{className:o().back,href:"/",children:"Back"})]})}},4745:(e,t,r)=>{"use strict";r.d(t,{S:()=>a});let a="/api"},5419:e=>{e.exports={main:"page_main__GlU4n",Label:"page_Label__shcnZ",navbar:"page_navbar__chktt",populatedb:"page_populatedb__Bqr3l",form:"page_form__Ou5d6",cardList:"page_cardList___XOFY",error:"page_error__Jil8M",cart:"page_cart__1D7QG",back:"page_back__mmxhE",cartItem:"page_cartItem__7B9lv",cardItem:"page_cardItem__57QEU"}},8295:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>n});var a=r(9510),s=r(1402),i=r.n(s);r(5023);let n={title:"WEB TECHNOLOGIES 24",description:"Generated by create next app"};function o({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:i().className,children:e})})}},4558:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>o});var a=r(8570);let s=(0,a.createProxy)(String.raw`/home/greg/Documents/WebTech/frontend/src/app/myitems/page.js`),{__esModule:i,$$typeof:n}=s;s.default;let o=(0,a.createProxy)(String.raw`/home/greg/Documents/WebTech/frontend/src/app/myitems/page.js#default`)},3881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(6621);let s=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[948,54,131],()=>r(4358));module.exports=a})();